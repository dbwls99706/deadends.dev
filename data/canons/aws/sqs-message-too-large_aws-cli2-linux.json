{
  "schema_version": "1.0.0",
  "id": "aws/sqs-message-too-large/aws-cli2-linux",
  "url": "https://deadends.dev/aws/sqs-message-too-large/aws-cli2-linux",
  "error": {
    "signature": "An error occurred (InvalidParameterValue) when calling the SendMessage operation: message size exceeds the maximum allowed size",
    "regex": "(message size exceeds|MessageTooBig|message too long)",
    "domain": "aws",
    "category": "sqs",
    "first_seen": "2023-01-01",
    "last_confirmed": "2026-02-11"
  },
  "environment": {
    "runtime": {
      "name": "aws",
      "version_range": ">=2.0"
    },
    "os": "linux"
  },
  "verdict": {
    "resolvable": "true",
    "fix_success_rate": 0.94,
    "confidence": 0.96,
    "last_updated": "2026-02-11",
    "summary": "SQS message exceeds the 256KB size limit."
  },
  "dead_ends": [
    {
      "action": "Compressing the message with gzip",
      "why_fails": "Adds complexity; consumer must decompress; base64 encoding increases size by 33%",
      "fail_rate": 0.5,
      "sources": [
        "https://docs.aws.amazon.com/AWSSimpleQueueService/latest/SQSDeveloperGuide/"
      ],
      "condition": ""
    },
    {
      "action": "Splitting the message into parts",
      "why_fails": "Requires a reassembly mechanism; complex and error-prone",
      "fail_rate": 0.55,
      "sources": [
        "https://docs.aws.amazon.com/AWSSimpleQueueService/latest/SQSDeveloperGuide/"
      ],
      "condition": ""
    }
  ],
  "workarounds": [
    {
      "action": "Store the payload in S3 and send the S3 reference in the SQS message",
      "success_rate": 0.95,
      "how": "Use amazon-sqs-extended-client-lib for automatic S3 offloading",
      "sources": [
        "https://docs.aws.amazon.com/AWSSimpleQueueService/latest/SQSDeveloperGuide/sqs-s3-messages.html"
      ],
      "condition": ""
    },
    {
      "action": "Review the message â€” reduce unnecessary data fields or use a more compact format",
      "success_rate": 0.85,
      "how": "Switch from JSON to a more compact format, or remove redundant data",
      "sources": [],
      "condition": ""
    }
  ],
  "transition_graph": {
    "leads_to": [
      {
        "error_id": "aws/lambda-runtime-error/aws-cli2-linux",
        "probability": 0.23
      }
    ],
    "preceded_by": [
      {
        "error_id": "aws/secrets-manager-not-found/aws-cli2-linux",
        "probability": 0.11
      }
    ],
    "frequently_confused_with": [
      {
        "error_id": "aws/iam-policy-too-large/awscli2-linux",
        "distinction": "'An error occurred (InvalidParameterValue) when calling the SendMessage operation' indicates an SQS message exceeding size limit, while 'An error occurred (LimitExceededException) when calling the PutRolePolicy' indicates an IAM policy size limit exceeded."
      }
    ]
  },
  "metadata": {
    "generated_by": "bulk_generate.py",
    "generation_date": "2026-02-11",
    "review_status": "auto_generated",
    "evidence_count": 50,
    "last_verification": "2026-02-11"
  }
}
