{
  "schema_version": "1.0.0",
  "id": "cuda/map-buffer-object-failed/cuda12-linux",
  "url": "https://deadends.dev/cuda/map-buffer-object-failed/cuda12-linux",
  "error": {
    "signature": "CUDA error: map buffer object failed (cudaErrorMapBufferObjectFailed)",
    "regex": "map buffer.*failed|cudaErrorMapBufferObjectFailed|CUDA_ERROR_MAP_FAILED|cannot map.*buffer",
    "domain": "cuda",
    "category": "memory_error",
    "first_seen": "2023-01-01",
    "last_confirmed": "2026-02-12"
  },
  "environment": {
    "runtime": {
      "name": "cuda",
      "version_range": ">=12.0,<13.0"
    },
    "os": "linux",
    "hardware": {
      "gpu": "any"
    }
  },
  "verdict": {
    "resolvable": "true",
    "fix_success_rate": 0.78,
    "confidence": 0.82,
    "last_updated": "2026-02-12",
    "summary": "CUDA failed to map a buffer object (often OpenGL/DirectX interop or unified memory) into the GPU address space. Caused by resource exhaustion, invalid buffer handles, or CUDA-graphics interop not properly registered."
  },
  "dead_ends": [
    {
      "action": "Retry the mapping operation immediately",
      "why_fails": "If the buffer handle is invalid or resources are exhausted, retrying without fixing the cause will always fail",
      "fail_rate": 0.85,
      "sources": [
        "https://docs.nvidia.com/cuda/cuda-runtime-api/"
      ],
      "condition": ""
    },
    {
      "action": "Increase GPU memory to fix mapping failure",
      "why_fails": "Map failures are usually about address space or interop registration, not raw memory availability",
      "fail_rate": 0.7,
      "sources": [
        "https://docs.nvidia.com/cuda/cuda-runtime-api/"
      ],
      "condition": ""
    }
  ],
  "workarounds": [
    {
      "action": "Ensure graphics resource is registered before mapping: cudaGraphicsGLRegisterBuffer",
      "success_rate": 0.85,
      "how": "Call cudaGraphicsGLRegisterBuffer(&resource, buffer, flags) before cudaGraphicsMapResources",
      "sources": [],
      "condition": "when using OpenGL interop"
    },
    {
      "action": "Unmap and release previous mappings before creating new ones",
      "success_rate": 0.82,
      "how": "cudaGraphicsUnmapResources(1, &resource, stream) before remapping. Ensure proper cleanup in error paths.",
      "sources": [],
      "condition": ""
    },
    {
      "action": "Use cudaMallocManaged for unified memory instead of explicit mapping",
      "success_rate": 0.8,
      "how": "Replace explicit buffer mapping with unified memory: cudaMallocManaged(&ptr, size) which handles mapping automatically",
      "sources": [],
      "condition": "when graphics interop is not required"
    }
  ],
  "transition_graph": {
    "leads_to": [
      {
        "error_id": "cuda/context-destroyed/cuda12-linux",
        "probability": 0.15,
        "condition": "when map failure corrupts CUDA context state"
      }
    ],
    "preceded_by": [],
    "frequently_confused_with": [
      {
        "error_id": "cuda/invalid-pitch/cuda12-linux",
        "distinction": "'CUDA error: map buffer object failed (cudaErrorMapBufferObje' vs 'CUDA error: invalid pitch argument (cudaErrorInvalidPitchVal': while both are cuda errors in the memory_error category, the former CUDA failed to map a buffer object (often OpenGL/DirectX interop or unified memo while the latter The pitch value (row byte width including padding) passed to a CUDA memory funct."
      }
    ]
  },
  "metadata": {
    "generated_by": "bulk_generate.py",
    "generation_date": "2026-02-12",
    "review_status": "auto_generated",
    "evidence_count": 50,
    "last_verification": "2026-02-12"
  }
}
