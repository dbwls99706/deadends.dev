{
  "schema_version": "1.0.0",
  "id": "database/mysql-lock-wait-timeout/mysql8-linux",
  "url": "https://deadends.dev/database/mysql-lock-wait-timeout/mysql8-linux",
  "error": {
    "signature": "ERROR 1205 (HY000): Lock wait timeout exceeded; try restarting transaction",
    "regex": "ERROR 1205.*Lock wait timeout exceeded",
    "domain": "database",
    "category": "concurrency_error",
    "first_seen": "2023-01-01",
    "last_confirmed": "2026-02-12"
  },
  "environment": {
    "runtime": {
      "name": "mysql",
      "version_range": ">=8.0,<9.0"
    },
    "os": "linux"
  },
  "verdict": {
    "resolvable": "true",
    "fix_success_rate": 0.87,
    "confidence": 0.9,
    "last_updated": "2026-02-12",
    "summary": "A transaction waited longer than innodb_lock_wait_timeout (default 50 seconds) to acquire a row-level lock held by another transaction. The waiting transaction is rolled back. Caused by long-running transactions, missing indexes causing table scans to hold excessive locks, or application-level queuing issues."
  },
  "dead_ends": [
    {
      "action": "Increasing innodb_lock_wait_timeout to very large values (e.g., 3600 seconds)",
      "why_fails": "This only delays the timeout without fixing the underlying contention. Transactions will hold locks for longer, causing other transactions to queue up, making the overall problem worse and potentially leading to connection exhaustion.",
      "fail_rate": 0.8,
      "sources": [
        "https://www.postgresql.org/docs/current/tutorial-transactions.html"
      ],
      "condition": ""
    },
    {
      "action": "Setting transaction isolation to READ UNCOMMITTED globally",
      "why_fails": "READ UNCOMMITTED avoids some read locks but introduces dirty reads, phantom reads, and non-repeatable reads. It does not prevent write lock contention, which is the usual cause of this error. It trades correctness for a minimal reduction in lock contention.",
      "fail_rate": 0.75,
      "sources": [
        "https://www.postgresql.org/docs/current/tutorial-transactions.html"
      ],
      "condition": ""
    }
  ],
  "workarounds": [
    {
      "action": "Identify and kill the blocking transaction, then optimize to prevent recurrence",
      "success_rate": 0.88,
      "how": "Run: SELECT * FROM information_schema.INNODB_TRX; and SELECT * FROM performance_schema.data_locks; to find the blocking transaction. Kill it with: KILL <thread_id>; Then investigate why it held locks so long - often a missing COMMIT or long-running query.",
      "sources": [],
      "condition": ""
    },
    {
      "action": "Add indexes to reduce lock scope and shorten transaction durations",
      "success_rate": 0.85,
      "how": "Without proper indexes, InnoDB locks more rows than necessary (gap locks on full table scans). Add indexes on columns used in WHERE clauses of UPDATE/DELETE statements. Also break large transactions into smaller batches to reduce lock hold time.",
      "sources": [],
      "condition": ""
    }
  ],
  "transition_graph": {
    "leads_to": [
      {
        "error_id": "database/mysql-too-many-connections/mysql8-linux",
        "probability": 0.25,
        "condition": "when lock contention causes transactions to pile up, each holding a connection"
      }
    ],
    "preceded_by": [
      {
        "error_id": "database/mysql-too-many-connections/mysql8-linux",
        "probability": 0.15,
        "condition": "when high connection count leads to more concurrent transactions competing for locks"
      }
    ],
    "frequently_confused_with": [
      {
        "error_id": "database/deadlock-detected/pg16-linux",
        "distinction": "MySQL lock wait timeout is a simple timeout on acquiring a lock. PostgreSQL deadlock detected is an actual cycle detection where two transactions wait on each other. MySQL also has deadlock detection, but ERROR 1205 is specifically the timeout, not a deadlock."
      }
    ]
  },
  "metadata": {
    "generated_by": "bulk_generate.py",
    "generation_date": "2026-02-12",
    "review_status": "auto_generated",
    "evidence_count": 62,
    "last_verification": "2026-02-12"
  }
}
