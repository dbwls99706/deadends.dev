{
  "schema_version": "1.0.0",
  "id": "java/kafka-timeout/jdk17-linux",
  "url": "https://deadends.dev/java/kafka-timeout/jdk17-linux",
  "error": {
    "signature": "org.apache.kafka.common.errors.TimeoutException: Failed to update metadata",
    "regex": "org\\.apache\\.kafka\\.common\\.errors\\.TimeoutException",
    "domain": "java",
    "category": "messaging_error",
    "first_seen": "2023-01-01",
    "last_confirmed": "2026-02-12"
  },
  "environment": {
    "runtime": {
      "name": "java",
      "version_range": ">=17,<21"
    },
    "os": "linux"
  },
  "verdict": {
    "resolvable": "true",
    "fix_success_rate": 0.82,
    "confidence": 0.86,
    "last_updated": "2026-02-12",
    "summary": "The Kafka client cannot connect to the broker or fails to complete an operation within the configured timeout. Usually caused by incorrect bootstrap server addresses, network connectivity issues, or broker overload."
  },
  "dead_ends": [
    {
      "action": "Increasing request.timeout.ms to very large values to avoid the timeout",
      "why_fails": "If the broker is unreachable due to a network or configuration issue, waiting longer will not help. Large timeouts just delay error detection and cause the application to hang rather than fail fast.",
      "fail_rate": 0.75,
      "sources": [
        "https://docs.oracle.com/en/java/javase/21/docs/api/"
      ],
      "condition": "when the broker is unreachable"
    },
    {
      "action": "Restarting the Kafka client application without checking broker connectivity",
      "why_fails": "If the root cause is a misconfigured bootstrap.servers, DNS issue, or firewall rule, restarting the client will reproduce the same timeout. The connectivity issue must be resolved first.",
      "fail_rate": 0.8,
      "sources": [
        "https://docs.oracle.com/en/java/javase/21/docs/api/"
      ],
      "condition": ""
    }
  ],
  "workarounds": [
    {
      "action": "Verify bootstrap.servers configuration points to reachable broker addresses and test connectivity",
      "success_rate": 0.88,
      "how": "1. Check bootstrap.servers in your Kafka client config â€” ensure it contains the correct broker host:port. 2. Test TCP connectivity: 'nc -zv broker-host 9092' or 'telnet broker-host 9092'. 3. If using Docker/Kubernetes, ensure the advertised.listeners on the broker matches what clients use. 4. Check for DNS resolution issues: 'nslookup broker-host'. 5. Verify no firewall or security group blocks port 9092.",
      "sources": [],
      "condition": ""
    },
    {
      "action": "Check broker health and ensure topics are properly created with sufficient partitions",
      "success_rate": 0.82,
      "how": "1. Verify broker is running: check broker logs for errors. 2. Ensure the topic exists: 'kafka-topics.sh --list --bootstrap-server broker:9092'. 3. If auto.create.topics.enable is false, create the topic manually. 4. Check broker resource usage (disk, memory, CPU). 5. If producing, verify acks and retries settings. Set retries to a positive number and delivery.timeout.ms appropriately.",
      "sources": [],
      "condition": ""
    }
  ],
  "transition_graph": {
    "leads_to": [
      {
        "error_id": "java/connection-pool-exhausted/jdk17-linux",
        "probability": 0.15,
        "condition": "when Kafka timeouts back up request processing threads that hold database connections"
      }
    ],
    "preceded_by": [
      {
        "error_id": "java/ssl-handshake-exception/jdk17-linux",
        "probability": 0.15,
        "condition": "when SSL misconfiguration between Kafka client and broker causes connection failures"
      }
    ],
    "frequently_confused_with": [
      {
        "error_id": "java/http-timeout/jdk17-linux",
        "distinction": "HTTP timeout is for HTTP/REST requests; Kafka timeout is specific to the Kafka binary protocol and broker communication"
      }
    ]
  },
  "metadata": {
    "generated_by": "bulk_generate.py",
    "generation_date": "2026-02-12",
    "review_status": "auto_generated",
    "evidence_count": 75,
    "last_verification": "2026-02-12"
  }
}
