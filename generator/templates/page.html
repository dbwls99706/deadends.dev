<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="theme-color" content="#0d1117">
  <title>{{ error.signature }} — {{ dead_ends|length }} Dead Ends to Avoid, {{ (verdict.fix_success_rate * 100)|int }}% Fix Rate | deadends.dev</title>
  <meta name="description" content="Don't waste time on {{ error.signature }}. Avoid {{ dead_ends|length }} known dead ends. {{ workarounds|default([])|length }} verified workarounds with step-by-step instructions. {{ env_summary }}. Fix rate: {{ (verdict.fix_success_rate * 100)|int }}%.">
  <meta name="robots" content="index, follow, max-snippet:-1">
  <link rel="icon" href="{{ base_path }}/favicon.svg" type="image/svg+xml">

  <!-- AI agent discovery -->
  <link rel="alternate" type="application/json" href="{{ base_path }}/api/v1/{{ id }}.json" title="ErrorCanon JSON API">
  <link rel="alternate" type="text/plain" href="{{ base_path }}/llms.txt" title="LLM-optimized error listing">
  <link rel="describedby" href="{{ base_path }}/api/v1/openapi.json" type="application/json">
  <meta name="error-id" content="{{ id }}">
  <meta name="error-regex" content="{{ error.regex }}">
  <meta name="error-domain" content="{{ error.domain }}">
  <meta name="error-resolvable" content="{{ verdict.resolvable }}">
  <meta name="error-fix-rate" content="{{ verdict.fix_success_rate }}">
  <meta name="error-dead-ends" content="{{ dead_ends|length }}">
  <meta name="error-workarounds" content="{{ workarounds|default([])|length }}">

  <!-- Schema.org + ErrorCanon JSON-LD -->
  <script type="application/ld+json">
{{ json_ld | safe }}
  </script>

  <!-- FAQPage schema for dead ends (Google rich snippets) -->
  {% if faq_json_ld %}
  <script type="application/ld+json">
{{ faq_json_ld | safe }}
  </script>
  {% endif %}

  <!-- Open Graph -->
  {% set canonical_url = url if url.endswith('/') else url ~ '/' %}
  <meta property="og:title" content="{{ error.signature }} — {{ dead_ends|length }} Dead Ends to Avoid">
  <meta property="og:description" content="Don't waste time on dead-end fixes. {{ workarounds|default([])|length }} verified workarounds with {{ (verdict.fix_success_rate * 100)|int }}% fix rate. {{ env_summary }}.">
  <meta property="og:type" content="article">
  <meta property="og:url" content="{{ canonical_url }}">
  <meta property="og:site_name" content="deadends.dev">
  <meta property="og:image" content="{{ base_url }}/og-image.png">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">
  <meta property="og:locale" content="en_US">
  <meta property="article:published_time" content="{{ error.first_seen }}">
  <meta property="article:modified_time" content="{{ verdict.last_updated }}">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:image" content="{{ base_url }}/og-image.png">
  <meta name="keywords" content="{{ error.signature }}, {{ error.domain }}, {{ error.category }}, error fix, troubleshooting, how to fix {{ error.signature }}, {{ env_summary }}">

  {% set id_parts = id.split('/') %}
  {% set summary_url = base_url ~ '/' ~ id_parts[0] ~ '/' ~ id_parts[1] ~ '/' %}
  <link rel="canonical" href="{{ summary_url }}">

  <!-- BreadcrumbList for Google rich results -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [
      {"@type": "ListItem", "position": 1, "name": "deadends.dev", "item": "{{ base_url }}"},
      {"@type": "ListItem", "position": 2, "name": "{{ error.domain | display_name }}", "item": "{{ base_url }}/{{ error.domain }}/"},
      {"@type": "ListItem", "position": 3, "name": "{{ error.signature | json_escape }}", "item": "{{ base_url }}/{{ id_parts[0] }}/{{ id_parts[1] }}/"},
      {"@type": "ListItem", "position": 4, "name": "{{ env_summary }}"}
    ]
  }
  </script>

  <!-- HowTo schema for workarounds (Google rich results) -->
  {% if howto_json_ld %}
  <script type="application/ld+json">
{{ howto_json_ld | safe }}
  </script>
  {% endif %}

  <link rel="stylesheet" href="{{ base_path }}/style.css">
</head>
<body class="pg-detail">
  <!-- AI-PARSEABLE STRUCTURED SUMMARY — Use /api/v1/{{ id }}.json for full data -->
  {% autoescape false %}
  <pre id="ai-summary" style="display:none;">ERROR_ID={{ id }}
SIGNATURE={{ error.signature }}
REGEX={{ error.regex }}
DOMAIN={{ error.domain }}
ENVIRONMENT={{ env_summary }}
RESOLVABLE={{ verdict.resolvable }}
FIX_SUCCESS_RATE={{ verdict.fix_success_rate }}
CONFIDENCE={{ verdict.confidence }}
SUMMARY={{ verdict.summary }}
DEAD_ENDS={% for de in dead_ends %}{{ de.action }} (fail_rate={{ de.fail_rate }}){% if not loop.last %}; {% endif %}{% endfor %}
WORKAROUNDS={% for wa in workarounds|default([]) %}{{ wa.action }} (success_rate={{ wa.success_rate }}){% if not loop.last %}; {% endif %}{% endfor %}
{% set graph = transition_graph|default({}) %}{% if graph.get("leads_to", []) %}LEADS_TO={% for lt in graph.leads_to %}{{ lt.error_id }} (p={{ lt.probability }}){% if not loop.last %}; {% endif %}{% endfor %}
{% endif %}{% if graph.get("preceded_by", []) %}PRECEDED_BY={% for pb in graph.preceded_by %}{{ pb.error_id }} (p={{ pb.probability }}){% if not loop.last %}; {% endif %}{% endfor %}
{% endif %}JSON_API={{ base_url }}/api/v1/{{ id }}.json
MATCH_API={{ base_url }}/api/v1/match.json
STATS_API={{ base_url }}/api/v1/stats.json</pre>
  {% endautoescape %}

  <!-- HUMAN-READABLE SECTION -->
  <nav><a href="{{ base_path }}/">deadends.dev</a> / <a href="{{ base_path }}/{{ error.domain }}/">{{ error.domain | display_name }}</a></nav>

  <header>
    <h1><code>{{ error.signature }}</code></h1>
    <p class="meta">
      Environment: {{ env_summary }} ·
      Last verified: {{ metadata.last_verification }} ·
      Evidence: {{ metadata.evidence_count }} sources ·
      <a href="{{ base_path }}/api/v1/{{ id }}.json">JSON API</a>
    </p>
  </header>

  <!-- TL;DR — AI coding agents can read just this block for a quick decision -->
  <section id="tldr" style="background:#161b22;border:1px solid #30363d;border-radius:6px;padding:1rem;margin:1rem 0;">
    <strong>TL;DR:</strong>
    {% if verdict.resolvable == "true" %}This error is <span class="verdict-true">fixable</span> ({{ (verdict.fix_success_rate * 100)|int }}% success rate).
    {% elif verdict.resolvable == "partial" %}This error is <span class="verdict-partial">partially fixable</span> ({{ (verdict.fix_success_rate * 100)|int }}% success rate).
    {% else %}This error is <span class="verdict-false">not reliably fixable</span> in this environment.{% endif %}
    Avoid: {% for de in dead_ends[:2] %}<em>{{ de.action }}</em> ({{ (de.fail_rate * 100)|int }}% fail){% if not loop.last %}, {% endif %}{% endfor %}.
    {% if workarounds|default([]) %}Try: {% for wa in workarounds[:2] %}<em>{{ wa.action }}</em> ({{ (wa.success_rate * 100)|int }}% success){% if not loop.last %}, {% endif %}{% endfor %}.{% endif %}
  </section>

  <section id="verdict">
    <h2>Verdict</h2>
    <p class="verdict-{{ verdict.resolvable }}">
      {% if verdict.resolvable == "true" %}RESOLVABLE — This error can be fixed in most cases.
      {% elif verdict.resolvable == "partial" %}PARTIALLY RESOLVABLE — Some workarounds exist, but success depends on specific conditions.
      {% else %}NOT RESOLVABLE — No known reliable fix exists for this environment.{% endif %}
    </p>
    <p>{{ verdict.summary }}</p>
    <p class="meta">Fix success rate: {{ verdict.fix_success_rate }} · Confidence: {{ verdict.confidence }}</p>
  </section>

  <section id="dead-ends">
    <h2>Dead Ends — Do NOT Try These</h2>
    {% for de in dead_ends %}
    <div class="dead-end">
      <strong>{{ de.action }}</strong> <span class="fail-rate">(Fail rate: {{ de.fail_rate }})</span>
      <p>{{ de.why_fails }}</p>
      {% if de.common_misconception %}<p><em>Common misconception:</em> {{ de.common_misconception }}</p>{% endif %}
      {% if de.condition %}<p class="meta">Condition: {{ de.condition }}</p>{% endif %}
      {% if de.sources %}
      <p class="meta">Sources: {% for src in de.sources %}<a href="{{ src }}">{{ src }}</a>{% if not loop.last %}, {% endif %}{% endfor %}</p>
      {% endif %}
    </div>
    {% endfor %}
  </section>

  <section id="workarounds">
    <h2>Workarounds — Try These Instead</h2>
    {% if workarounds|default([]) %}
    {% for wa in workarounds|default([]) %}
    <div class="workaround">
      <strong>{{ wa.action }}</strong> <span class="success-rate">(Success rate: {{ wa.success_rate }})</span>
      {% if wa.how %}<p><code>{{ wa.how }}</code></p>{% endif %}
      {% if wa.tradeoff %}<p>Tradeoff: {{ wa.tradeoff }}</p>{% endif %}
      {% if wa.condition %}<p class="meta">Condition: {{ wa.condition }}</p>{% endif %}
      {% if wa.sources %}
      <p class="meta">Sources: {% for src in wa.sources %}<a href="{{ src }}">{{ src }}</a>{% if not loop.last %}, {% endif %}{% endfor %}</p>
      {% endif %}
    </div>
    {% endfor %}
    {% else %}
    <p>No known workarounds exist for this error in this environment.</p>
    {% endif %}
  </section>

  {% set graph = transition_graph|default({}) %}
  {% if graph.get("leads_to", []) or graph.get("preceded_by", []) or graph.get("frequently_confused_with", []) %}
  <section id="error-chain">
    <h2>Error Chain</h2>
    {% if graph.get("leads_to", []) %}
    <h3>This error may lead to:</h3>
    <ul>
      {% for lt in graph.leads_to %}
      <li>
        {% if lt.error_id in known_ids|default([]) %}
        <a href="{{ base_path }}/{{ lt.error_id }}/">{{ lt.error_id }}</a>
        {% else %}
        <code>{{ lt.error_id }}</code> <span class="meta">(page not yet generated)</span>
        {% endif %}
        (probability: {{ lt.probability }}{% if lt.condition %}, condition: {{ lt.condition }}{% endif %})
      </li>
      {% endfor %}
    </ul>
    {% endif %}

    {% if graph.get("preceded_by", []) %}
    <h3>Often preceded by:</h3>
    <ul>
      {% for pb in graph.preceded_by %}
      <li>
        {% if pb.error_id in known_ids|default([]) %}
        <a href="{{ base_path }}/{{ pb.error_id }}/">{{ pb.error_id }}</a>
        {% else %}
        <code>{{ pb.error_id }}</code> <span class="meta">(page not yet generated)</span>
        {% endif %}
        (probability: {{ pb.probability }}{% if pb.condition %}, condition: {{ pb.condition }}{% endif %})
      </li>
      {% endfor %}
    </ul>
    {% endif %}

    {% if graph.get("frequently_confused_with", []) %}
    <h3>Frequently confused with:</h3>
    <ul>
      {% for fc in graph.frequently_confused_with %}
      <li>
        {% if fc.error_id in known_ids|default([]) %}
        <a href="{{ base_path }}/{{ fc.error_id }}/">{{ fc.error_id }}</a>
        {% else %}
        <code>{{ fc.error_id }}</code> <span class="meta">(page not yet generated)</span>
        {% endif %}
        — {{ fc.distinction }}
      </li>
      {% endfor %}
    </ul>
    {% endif %}
  </section>
  {% endif %}

  <section id="sources">
    <h2>Sources</h2>
    <ul>
      {% for src in all_sources %}
      <li><a href="{{ src }}">{{ src }}</a></li>
      {% endfor %}
      {% if not all_sources %}
      <li>No external sources referenced.</li>
      {% endif %}
    </ul>
  </section>

  {% if domain_errors|default([]) %}
  <section id="other-errors">
    <h2>Other {{ error.domain | display_name }} Errors</h2>
    <ul>
      {% for e in domain_errors %}
      <li><a href="{{ base_path }}/{{ e.slug_key }}/">{{ e.signature }}</a></li>
      {% endfor %}
    </ul>
    <p class="meta"><a href="{{ base_path }}/{{ error.domain }}/">View all {{ error.domain | display_name }} errors</a></p>
  </section>
  {% endif %}

  <footer class="meta">
    <p>Generated by deadends.dev · {{ metadata.generation_date }} · <a href="{{ base_path }}/api/v1/{{ id }}.json">JSON API</a> · <a href="https://github.com/dbwls99706/deadends.dev">Raw data on GitHub</a></p>
  </footer>
</body>
</html>
